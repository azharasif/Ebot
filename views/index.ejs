<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T"
    crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  <title>Document</title>
  <link rel="stylesheet" href="css/style.css">
  <link rel="stylesheet" href="css/bootstrap.min.css">
  <link rel="stylesheet" type="text/css" href="public/images">
  <script src="css/bootstrap.min.js"></script>
  <script>
    function visit() {
      let xhr = new XMLHttpRequest;
      var name = document.getElementById("email").value;
      xhr.open('GET', 'http://localhost:5000/scrapeapi?search=' + name,  true)
     
      xhr.onload = function () {
        if (this.status === 200) {
          var file = this.responseText;
          for (var i = 0; i < file.length; i++) {
            var data = JSON.parse(file)
            document.getElementById('visit').href = 'http://localhost:5000/detail/' + data[i]._id;
           
          }
        }
        else {
        }
      }
      xhr.send();
    }
    function loadDoc() {
      let xhr = new XMLHttpRequest;
      var name = document.getElementById("email").value;
           xhr.open('GET', 'http://localhost:5000/scrapeapi?search=' + name,  true)
      
      xhr.onload = function () {
        if (this.status === 200) {
          var file = this.responseText;
          for (var i = 0; i < file.length; i++) {
            var data = JSON.parse(file)
            document.getElementById('price').innerHTML = data[i].Price;
            document.getElementById('name').innerHTML = data[i].Name;
            document.getElementById('file').src = 'http://localhost:5000/product/' + data[i].File.Filename;
          }
        }
        else {
       }
   

      }
      xhr.send();
    }
  </script>
  <!-- <script>
    function lvisit() {
      let xhr = new XMLHttpRequest;
      var name = document.getElementById("email").value;
      xhr.open('GET', 'http://localhost:7000/scrapeapi?search=' + name, true)
      xhr.onload = function () {
        if (this.status === 200) {
          var file = this.responseText;
          for (var i = 0; i < file.length; i++) {
            var data = JSON.parse(file)
            console.log(data[i]._id)
            document.getElementById('lvisit').href = 'http://localhost:7000/detail/' + data[i]._id;
          }
        }
        else {
        }
      }
      xhr.send();
    }
    function loadDoc() {
      let xhr = new XMLHttpRequest;
      var name = document.getElementById("email").value;
      xhr.open('GET', 'http://localhost:7000/scrapeapi?search=' + name, true)
      xhr.onload = function () {
        if (this.status === 200) {
          var file = this.responseText;
          for (var i = 0; i < file.length; i++) {
            var data = JSON.parse(file)
            document.getElementById('lprice').innerHTML = data[i].Price;
            document.getElementById('lname').innerHTML = data[i].Name;
            document.getElementById('lfile').src = 'http://localhost:7000/product/' + data[i].File.Filename;
          }
        }
        else {
        }
      }
            xhr.send();
    }
  </script> -->
  <style>
    @import url(https://fonts.googleapis.com/css?family=Open+Sans);
    .search {
      width: 100%;
      position: relative
    }
    .searchTerm {
      float: left;
      width: 100%;
      border: 3px solid #00B4CC;
      padding: 5px;
      height: 20px;
      border-radius: 5px;
      outline: none;
      color: #9DBFAF;
    }
    .searchTerm:focus {
      color: #00B4CC;
    }
    .searchButton {
      position: absolute;
      width: 45px;
      height: 55px;
      border: 1px solid #00B4CC;
      background: #00B4CC;
      text-align: center;
      color: #fff;
      border-radius: 5px;
      cursor: pointer;
      font-size: 20px;
    }
    /*Resize the wrap to see the search bar change!*/
    .wrap {
      width: 30%;
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
    }
  </style>
</head>
<body style="background-color: slateblue">
  <nav class="navbar navbar-expand-md navbar-dark pt-4">
    <div class="container">
      <a class="navbar-brand" href="/">
        <img src="images/diff.svg" height="30" class="d-inline-block align-top" alt="Diffbot">
      </a>
      <div class="collapse navbar-collapse" id="collapsibleNavId">
        <nav class="navbar-nav">
        </nav>
      </div>
    </div>
  </nav>
  <div class="container">
    <div class="row">
      <div class="col-md-12">
        <h1 class="sub mt-5" style="color:black">Extract anything. On any page. At any time.</h1>
      </div>

      <div class="col-sm-12 col-md-9">
        <h1 style="color:black">Tap into accurate data from a single page or the entire web with Diffbot AI.
        </h1>
      </div>
      <div class="col-sm-12 col-md-12 col-lg-8">
        <p class="lead my-5" style="color:black">The web is the largest database in the world, but it's never been easy to extract data from.</p>
        <div class="wrap" style="padding-top:25%">
          <div class="search">
            <input style="height:55px; width:300px" name="search" placeholder="Search" id="email" type="text" class="searchTerm" placeholder="What are you looking for?">
            <button onclick="loadDoc()" type="submit" class="searchButton">
              <i class="fa fa-search"></i>
            </button>
          </div>
        </div>
      </div>
    </div>
    <div class="col-sm-12 card p-5" style="color:black">
      <h2 class="text-center" style="color:black">Transform the web into data</h2>

      <p class="lead text-center" style="color:black" style="color:rgb(75, 70, 70)">
        Get any or all data from the web without the hassle and expense of web scraping or doing manual research.
      </p>
      <div class="col-lg-12">
        <table class="table">
          <thead>
            <tr>
              <th>Name</th>
              <th>Price</th>
              <th>Picture</th>
              <th>Vist
              </th>
            </tr>
          </thead>
          <tr>
            <th>
              <div id="name" style="font-size: 20px">
              </div>
            </th>
            <th>
              <div id="price" style="font-size: 20px">
              </div>
            </th>
            <th>
              <div>
                <img id="file" style="border-color:transparent;" class="img-responsive" height="50px" width="35px">
              </div>
            </th>
            <th>
              <a id="visit" target="_blank">
                <button id="email" onclick="visit()">visit
                </button>
              </a>
            </th>
          </tr>
          <tr>
            <th>
              <div id="lname" style="font-size: 20px">
              </div>
            </th>
            <th>
              <div id="lprice" style="font-size: 20px">
              </div>
            </th>
            <th>
              <div>
                <img id="lfile" style="border-color:transparent;" class="img-responsive" height="50px" width="35px">
              </div>
            </th>
            <th>
              <a id="lvisit" target="_blank">
                <button id="lemail" onclick="lvisit()">visit
                </button>
              </a>
            </th>
          </tr>
      </div>
      </th>
      </tr>
    </div>
    </table>
  </div>
  </div>
  <div>
  </div>
  </div>
</body>
</html>